# Russian Phraselets
# Card text templates with grammatical agreement

# ============================================================================
# SYNTAX REFERENCE
# ============================================================================
#
# Basic variable substitution:
#   {количество}                    - simple variable
#
# Declined noun with automatic number agreement:
#   {количество|карта}              - outputs "1 карта", "2 карты", "5 карт"
#
# Explicit case override:
#   {количество|карта:acc}          - force accusative case
#
# Adjective-noun agreement (adjective inherits noun's case/gender/number):
#   {adj:этот|noun:персонаж:nom}    - "этот персонаж" (nominative)
#   {adj:этот|noun:персонаж:acc}    - "этого персонажа" (accusative, animate)
#
# Verb agreement with subject:
#   {noun:персонаж:nom} {verb:получить:3sg|noun:персонаж}
#   - verb agrees with noun in gender/number for past tense
#
# Agreement chain (all agree with anchor noun):
#   {chain:acc|adj:целевой|noun:союзник}
#   - "целевого союзника" (both in accusative, masculine animate)
#
# Conditional forms:
#   {if:количество=1|одну карту|{количество|карта}}
#
# Numeric expressions with comparison:
#   {количество|искра} или больше   - "3 искры или больше"
#
# ============================================================================

# ============================================================================
# BASIC ACTIONS
# ============================================================================

[phraselet.draw_cards]
# "Draw a card" / "Draw N cards"
# Russian uses perfective imperative for commands
id = "draw_cards"
params = ["количество"]
# Pattern: Возьмите + accusative
# "Возьмите карту" (1), "Возьмите 2 карты" (2-4), "Возьмите 5 карт" (5+)
template = "Возьмите {количество|карта:acc}."

[phraselet.draw_cards_singular]
# Special case for "Draw a card" (no number shown)
id = "draw_cards_singular"
template = "Возьмите карту."

[phraselet.gain_spark]
# "This character gains N spark"
# персонаж (m, anim) + получает (3sg) + искру/искры/искр (f, acc)
id = "gain_spark"
params = ["количество"]
template = "{chain:nom|adj:этот|noun:персонаж} получает {количество|искра:acc}."

[phraselet.gain_energy]
# "Gain N energy"
id = "gain_energy"
params = ["количество"]
template = "Получите {количество|энергия:acc}."

[phraselet.gain_points]
# "Gain N points"
id = "gain_points"
params = ["количество"]
template = "Получите {количество|очко:acc}."

# ============================================================================
# TARGETING
# ============================================================================

[phraselet.target_ally]
# "Target ally"
id = "target_ally"
template = "{chain:nom|adj:целевой|noun:союзник}"

[phraselet.target_ally_acc]
# "Target ally" (accusative, for direct object)
id = "target_ally_acc"
template = "{chain:acc|adj:целевой|noun:союзник}"

[phraselet.target_character]
# "Target character"
id = "target_character"
template = "{chain:nom|adj:целевой|noun:персонаж}"

[phraselet.target_character_acc]
# "Target character" (accusative)
id = "target_character_acc"
template = "{chain:acc|adj:целевой|noun:персонаж}"

[phraselet.leftmost_character]
# "Your leftmost character"
id = "leftmost_character"
template = "{chain:nom|adj:ваш|adj:самый_левый|noun:персонаж}"

[phraselet.leftmost_character_dat]
# "Your leftmost character" (dative - "give to")
id = "leftmost_character_dat"
template = "{chain:dat|adj:ваш|adj:самый_левый|noun:персонаж}"

# ============================================================================
# CONDITIONS WITH AGREEMENT
# ============================================================================

[phraselet.ally_with_spark]
# "An ally with spark N or more"
# союзник (m, anim) + с + искрой (f, inst) + N + или больше
id = "ally_with_spark"
params = ["минимум"]
template = "союзник с искрой {минимум} или больше"

[phraselet.ally_with_spark_acc]
# "An ally with spark N or more" (accusative for targeting)
id = "ally_with_spark_acc"
params = ["минимум"]
template = "союзника с искрой {минимум} или больше"

[phraselet.character_with_spark]
# "A character with spark N or more"
id = "character_with_spark"
params = ["минимум"]
template = "персонаж с искрой {минимум} или больше"

[phraselet.character_with_spark_acc]
id = "character_with_spark_acc"
params = ["минимум"]
template = "персонажа с искрой {минимум} или больше"

# ============================================================================
# KEYWORDS
# ============================================================================

[phraselet.reclaim]
# "Reclaim" - play from void
# Uses "Верните из пустоты" (Return from void) for clarity
id = "reclaim"
template = "Возврат"

[phraselet.reclaim_action]
# "Reclaim this card"
id = "reclaim_action"
template = "Верните {chain:acc|adj:этот|noun:карта} из пустоты."

[phraselet.kindle]
# "Kindle N" - add spark to leftmost character
id = "kindle"
params = ["количество"]
template = "Разжечь {количество}"

[phraselet.kindle_description]
# Full kindle effect text
id = "kindle_description"
params = ["количество"]
template = "Добавьте {количество|искра:acc} {chain:dat|adj:ваш|adj:самый_левый|noun:персонаж}."

[phraselet.foresee]
# "Foresee N"
id = "foresee"
params = ["количество"]
template = "Предвидение {количество}"

[phraselet.foresee_description]
# Full foresee effect text
id = "foresee_description"
params = ["количество"]
template = "Посмотрите {количество|карта:acc} сверху колоды. Положите любое количество в пустоту, остальные — в любом порядке сверху колоды."

[phraselet.prevent]
# "Prevent" - counterspell
id = "prevent"
template = "Отмена"

[phraselet.prevent_action]
# "Prevent target card from resolving"
id = "prevent_action"
template = "Отмените {chain:acc|adj:целевой|noun:карта}."

# ============================================================================
# ZONES
# ============================================================================

[phraselet.from_hand]
id = "from_hand"
template = "из руки"

[phraselet.from_deck]
id = "from_deck"
template = "из колоды"

[phraselet.from_void]
id = "from_void"
template = "из пустоты"

[phraselet.to_hand]
id = "to_hand"
template = "в руку"

[phraselet.to_void]
id = "to_void"
template = "в пустоту"

[phraselet.to_battlefield]
id = "to_battlefield"
template = "на поле боя"

[phraselet.on_battlefield]
id = "on_battlefield"
template = "на поле боя"

# ============================================================================
# COMPLEX SENTENCES
# ============================================================================

[phraselet.dissolve_target]
# "Dissolve target character"
id = "dissolve_target"
template = "Развейте {chain:acc|adj:целевой|noun:персонаж}."

[phraselet.materialize_from_hand]
# "Materialize a character from your hand"
id = "materialize_from_hand"
template = "Материализуйте персонажа из вашей руки."

[phraselet.when_materialized]
# "When this character is materialized"
id = "when_materialized"
template = "Когда {chain:nom|adj:этот|noun:персонаж} материализован"

[phraselet.when_dissolved]
# "When this character is dissolved"
id = "when_dissolved"
template = "Когда {chain:nom|adj:этот|noun:персонаж} развеян"

[phraselet.end_of_turn]
# "At the end of the turn"
id = "end_of_turn"
template = "В конце хода"

[phraselet.start_of_turn]
# "At the start of your turn"
id = "start_of_turn"
template = "В начале вашего хода"

[phraselet.opponent_start_of_turn]
# "At the start of opponent's turn"
id = "opponent_start_of_turn"
template = "В начале хода противника"

# ============================================================================
# NUMERIC COMPARISONS
# ============================================================================

[phraselet.or_more]
id = "or_more"
template = "или больше"

[phraselet.or_less]
id = "or_less"
template = "или меньше"

[phraselet.exactly]
id = "exactly"
template = "ровно"

[phraselet.up_to]
# "Up to N"
id = "up_to"
params = ["максимум"]
template = "до {максимум}"

[phraselet.at_least]
# "At least N"
id = "at_least"
params = ["минимум"]
template = "не менее {минимум}"

# ============================================================================
# PRONOUNS AND REFERENCES
# ============================================================================

[phraselet.it]
# Pronoun "it" - needs gender agreement with antecedent
# This is a special case handled by the engine
id = "it"
params = ["antecedent"]
template = "{pronoun:3sg|antecedent}"
# Expands to: он/она/оно depending on antecedent gender

[phraselet.this_card]
id = "this_card"
template = "{chain:nom|adj:этот|noun:карта}"

[phraselet.this_card_acc]
id = "this_card_acc"
template = "{chain:acc|adj:этот|noun:карта}"

[phraselet.that_card]
id = "that_card"
template = "{chain:nom|adj:тот|noun:карта}"

[phraselet.your]
# "Your" - needs gender/number/case agreement
id = "your"
params = ["modified_noun", "case"]
template = "{adj:ваш:{case}|{modified_noun}}"

[phraselet.opponents]
# "Opponent's" - genitive
id = "opponents"
template = "противника"

# ============================================================================
# COMPLETE CARD TEXT EXAMPLES
# ============================================================================

[phraselet.example_draw_effect]
# "Draw 2 cards."
id = "example_draw_effect"
example_output = "Возьмите 2 карты."

[phraselet.example_kindle_trigger]
# "When this character is materialized, kindle 3."
id = "example_kindle_trigger"
template = "{@when_materialized}, добавьте 3 искры {chain:dat|adj:ваш|adj:самый_левый|noun:персонаж}."
example_output = "Когда этот персонаж материализован, добавьте 3 искры вашему самому левому персонажу."

[phraselet.example_conditional_draw]
# "If you control an ally with spark 3 or more, draw 2 cards."
id = "example_conditional_draw"
template = "Если вы контролируете {@ally_with_spark_acc минимум=3}, {@draw_cards количество=2}"
example_output = "Если вы контролируете союзника с искрой 3 или больше, возьмите 2 карты."

[phraselet.example_complex_effect]
# "Dissolve target character. Its controller draws cards equal to that character's spark."
id = "example_complex_effect"
template = """
Развейте {chain:acc|adj:целевой|noun:персонаж}.
Контролирующий его игрок берёт карты в количестве, равном искре того персонажа.
"""
