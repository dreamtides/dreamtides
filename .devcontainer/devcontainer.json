{
  "name": "Rust (Debian Trixie) + Cargo home + Git LFS",
  "image": "mcr.microsoft.com/devcontainers/rust:dev-trixie",

  "features": {
    "ghcr.io/devcontainers/features/git-lfs:1": {}
  },

  "remoteEnv": {
    "CARGO_HOME": "${containerEnv:HOME}/.cargo",
    "RUSTUP_HOME": "${containerEnv:HOME}/.rustup",
    "PATH": "${containerEnv:HOME}/.cargo/bin:${containerEnv:PATH}"
  },

  "postCreateCommand": "mkdir -p \"$HOME/.cargo\" \"$HOME/.rustup\" && git lfs install --local || true",

  "customizations": {
    "vscode": {
      "extensions": [
        "rust-lang.rust-analyzer"
      ],
      "settings": {
        "rust-analyzer.checkOnSave.command": "clippy"
      }
    }
  }
}